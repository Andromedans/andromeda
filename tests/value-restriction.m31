
dynamic r (* : 'a option *) = None

let f (* 'b -> mlunit option *) = fun _ => match current r with Some () => r end

do now r = Some "foo" in match f () with Some x => x end

