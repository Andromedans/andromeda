constant A : Type
constant B : Type
constant b : B
constant a : A

operation op 1

let h = handler
  | op ?v => whnf (v ((lambda (x : B), x) b))
end

constant f (reduce b : B) : A

(* At this point h should know about f, does it? *)
let _ = with h handle 
           op (lambda (x : B), f x)

