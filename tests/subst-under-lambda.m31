Let create :=
  fun X ->
    handle (位 [x : X] #throw x) with | #throw x _ -> x end.

Parameter B : Type.
Parameter P : B -> B -> Type.

Let u := create @ B.
Let v := create @ B.

Parameter r : P u v.

Check P u v.

Check subst u := v and v := u in P u v.

Check 位 [x y : B] subst u := x and v := y in r.

Check 位 [x y : B] r.

Check 位 [x y : B] subst u := x and y := v in P u y.
