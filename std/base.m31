(* A short-hand for the print function. *)
let print x = external "print" x

(* Poor man's debugging mechanism. *)
mltype debug a = (!!) of a end
let debug x = print (!! x)

(* Top-level handlers default to failure. *)
handle
  | equal _ _ => None
  | as_prod _ => None
  | as_eq _ => None
end

let (|>) x f = f x

let failure x = print ("FAILURE", x); external "exit" ()

mltype mlbool = mltrue | mlfalse end

operation whnf : judgement -> judgement

mltype eagerness =
  | eager
  | lazy
  end

