<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Andromeda : Type theory with equality reflection">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Andromeda</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/andrejbauer/andromeda">View on GitHub</a>

          <h1 id="project_title">Andromeda</h1>
          <h2 id="project_tagline">Type theory with equality reflection</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/andrejbauer/andromeda/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/andrejbauer/andromeda/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="about-the-project" class="anchor" href="#about-the-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>About the project</h3>

<p>Andromeda is an experimental implementation of dependent type theory with a reflection rule.
For theoretical background see:</p>

<ul>
<li>Andrej Bauer: "How to implemenent type theory with a reflection rule"
(<a href="http://www.qmac.ox.ac.uk/events/Talk%20slides/Bauer-HoTT-Oxford.pdf">slides</a> and
<a href="https://www.youtube.com/watch?v=IlfQjWqrK6I">video</a>)</li>
</ul>

<p>The reflection rule allows us to do many things, such as add new computation
rules for new type formers, and hopefully also provide support for Vladimir
Voevodsky's <a href="http://ncatlab.org/homotopytypetheory/show/Homotopy+Type+System">Homotopy Type System</a>
which has <em>two</em> kinds of equality, one of which has a reflection rule.</p>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>The easiest way to install Andromeda is through the
<a href="http://opam.ocamlpro.com">Opam</a> package manager for OCaml. You can install
Opam on your system following <a href="http://opam.ocaml.org/doc/Install.html">these
instructions</a>.
In case your operating system does not provide OCaml version &gt;= 4.02, you can
install it with <code>opam switch 4.02.1</code>.
Then simply add the Andromeda repo to opam, update and install Andromeda with
these commands:</p>

<pre><code>opam repo add andromeda git://github.com/haselwarter/andromeda-opam.git
opam update
opam install andromeda
</code></pre>

<h3>
<a id="compilation" class="anchor" href="#compilation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compilation</h3>

<p>To build Andromeda, you need <a href="http://ocaml.org">OCaml 4.02</a> or later (and quite possibly it
works with earlier versions too), the <a href="http://gallium.inria.fr/%7Efpottier/menhir/">menhir</a>
parser generator and the <a href="https://www.lexifi.com/sedlex">sedlex</a> unicode lexer. We recommend
using <a href="http://opam.ocamlpro.com">Opam</a> for installation of OCaml, menhir and sedlex.</p>

<p>If you also install the <a href="http://opam.ocaml.org/packages/ledit/ledit.2.03/">ledit</a> or
<a href="http://utopia.knoware.nl/%7Ehlub/uck/rlwrap/#rlwrap">rlwrap</a> utility, the Andromeda toplevel
will use them to give you line editing capabilities.</p>

<h3>
<a id="building-andromeda" class="anchor" href="#building-andromeda" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building Andromeda</h3>

<p>To build Andromeda type <code>make</code> at the command line. This will create the executable
<code>andromeda.byte</code>. You can run the tests in the <code>test</code> subfolder with <code>make test</code>.</p>

<p>The file <code>prelude.m31</code> contains basic definitions and is loaded when Andromeda is
started (unless the option <code>--no-prelude</code> is given).</p>

<h4>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h4>

<p>We have put some examples in the <code>examples</code> subdirectory. An outdated and incomplete
description of the Andromedan type theory can be found in <code>doc/andromeda.tex</code>. We are
still changing Andromeda in every respect so it probably does not make sense to write
documentation at this point.</p>

<h3>
<a id="the-structure-of-source-code" class="anchor" href="#the-structure-of-source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>The structure of source code</h3>

<p>The source code can be found in <code>src</code>, in the following folders:</p>

<ul>
<li>
<code>parser</code> - input syntax, lexer, parser, and the desugaring phase which computes de Bruijn indices
and separates expressions and computations</li>
<li>
<code>runtime</code> - context manipulation, runtime values and the main evaluation loop</li>
<li>
<code>tt</code> - abstract syntax, weak-head normal forms, equality checks</li>
<li>
<code>utils</code> - error messages, file locations, pretty printing, manipulation of variable names</li>
<li>
<code>andromeda.ml</code> - main program</li>
<li>
<code>config.ml</code> - configuration</li>
<li>
<code>syntax.mli</code> - desugared input syntax</li>
</ul>

<p>The basic steps in the evaluation of input are:</p>

<ol>
<li>An expression is parsed using the lexer <code>parser/lexer.mll</code> and the parser <code>parser/parser.mly</code>.
The result is a value of type <code>Input.term</code> or <code>Input.ty</code> or <code>Input.toplevel</code>. The user input
has no separation of computations (effectful) and expressions (pure).</li>
<li>
<code>Desugar</code> converts the parsed entity to the corresponding intermediate representation of
type <code>Syntax.expr</code>, <code>Syntax.comp</code> or <code>Syntax.toplevel</code>. Desugaring replaces named bound variables
with de Bruijn indices and separates computations from expressions.</li>
<li>
<code>Eval</code> evaluates the syntactic expression to a result of type <code>Value.result</code>. The result is a
pair [(e,t)] of a value [e] and its type [t]. Evaluation is done in a context [ctx] of type
[Context.t] which consists of: free variables with their types, bound variables mapped to their
values, and equality hints.</li>
</ol>

<p>The correctness guarantee for the evaluator is this: if a computation [c] evaluates to a value [(e,t)]
in context [ctx] then the judgement [ctx |- e : t] is derivable.</p>

<h3>
<a id="history-of-the-name-andromeda" class="anchor" href="#history-of-the-name-andromeda" aria-hidden="true"><span class="octicon octicon-link"></span></a>History of the name Andromeda</h3>

<p>Andromeda used to be called Brazil, as a consequence of discussions at the Institute for
Advanced Study where we talked about "sending proofs to a far away place where they will
check them independently". We thought of Brazil as a faraway place, but it later turned
out it was not quite far enough. We hope that nobody will claim that the Andromeda galaxy
is a nearby place.</p>

<h3>
<a id="travis-continuous-integration" class="anchor" href="#travis-continuous-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Travis Continuous Integration</h3>

<p>The GitHub repository is linked to Travis CI. To find out the current build status is
displayed here:</p>

<p><a href="https://travis-ci.org/andrejbauer/andromeda"><img src="https://api.travis-ci.org/andrejbauer/andromeda.png?branch=master" alt="Build Status"></a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Andromeda maintained by <a href="https://github.com/andrejbauer">andrejbauer</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-64364355-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
